{% extends 'home.html' %}


{% block where %}
<li>adding attendance </li>
{% endblock %}

{% block content-title %}
<h3>ADDING ATTENDANCE</h3>
{% endblock %}

{% block content %}
<form action="" method="post">
    {% csrf_token %}
    <table name="mytable">
        <tr>
            <th>attendance name</th>
            <th>student_id</th>
            <th>status</th>
          
        </tr>
        {% for x in wana %}
        <tr>
        <td ><input type="text" name="obj1" value="{{ obj1 }}"></td>
        <td ><input type="text" name="obj2" value="{{ x.student_id }}"></td>
        <td ><select name="status" id="status">
            <option  value="p" >present</option>
            <option value="a" >absent</option>
            <option value="o" >other</option>
        </select></td>
       </tr>
        {% endfor %}
    </table>
    <p id="pay"></p>
    <input type="submit" value="submit" >
</form>











<script>
    var httpRequest = new XMLHttpRequest();
    function makePostRequest(){
        httpRequest.onreadystatechange= writeContent;

        httpRequest.open("POST","{% url 'add_attendance' pk_test='form-1a-22-att' %}" );
        httpRequest.setRequestHeader( "Content-Type", "application/x-www-form-urlencoded");
        httpRequest.send( "obj1=form-1a-2022-att & obj2=t-udom-2018-001 & obj3=p ");
    }
    function writeContent(){
        if(httpRequest.readyState === 4){
            if(httpRequest.status === 200){
                var response = httpRequest.responseText;
                document.getElementById('pay').innerHTML = response;
            }else{
                alert('there was a problem with request')
            }
        }
    }
</script>

    {% endblock %}
